
<!-- saved from url=(0100)/assets/views/pages_user_profile.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252"></head><body><section id="page-title">
	<div class="row">
		<div class="col-sm-8">
			<h1 class="mainTitle" translate="topbar.pages.USERPROFILE">Affiliate</h1>
		</div>
	</div>
</section>
<!-- end: PAGE TITLE -->
<!-- start: USER PROFILE -->
<div class="container-fluid container-fullw bg-white">
	<div class="row">
		<div class="col-md-12">
			<!-- /// controller:  'AffiliateCtrl' -  localtion: assets/js/controllers/AffiliateAccountCtrl.js /// -->
			<div ng-controller="AffiliateCtrl">
				<!-- start: USER TABSET -->
				<uib-tabset class="tabbable">
					<!-- start: TAB OVERVIEW -->
					<uib-tab heading="Tài Khoản">
                        <div class="row">
                            <div class="col-md-6" ng-controller="AffiliateWalletCtrl">
                                <div class="user-left">
                                    <table class="table table-condensed">
                                        <thead>
                                            <tr></tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <p class="bold">{{affiliateWalletInfo.FullName}}</p>
                                                    <p>{{affiliateWalletInfo.Phone}}</p>
                                                </td>
                                                <td>
                                                    <span class="bold">{{affiliateWalletInfo.Amount | number}} Đ</span>
                                                </td>
                                                <td>
                                                    <p ng-controller="RequestWithdrawalCtrl">
                                                        <a class="btn btn-sm btn-primary" ng-click="requestWithdrawal()">Rút Tiền</a>
                                                    </p>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <table class="table table-condensed">
                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th>Đã Duyệt</th>
                                                <th>Đang Duyệt</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Khách Hàng</td>
                                                <td>{{affiliateWalletInfo.AffiliateApproved}}</td>
                                                <td>{{affiliateWalletInfo.AffiliatePending}}</td>
                                            </tr>
                                            <tr>
                                                <td>Hoa Hồng</td>
                                                <td>{{affiliateWalletInfo.AmountApproved | number}} Đ</td>
                                                <td>{{affiliateWalletInfo.AmountPending | number}} Đ</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <script type="text/ng-template" id="myModalContent.html">
                                        <circle-spinner ng-show="showSpinner"></circle-spinner>
                                        <form class="form-withdrawal-request" name="FormWithdrawallRequest" id="FormWithdrawallRequest" novalidate="" ng-submit="form.submit(FormWithdrawallRequest)">
                                            <div class="modal-header">
                                                <span class="modal-title text-bold">Rút tiền</span>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="form-group" ng-class="{'has-error':FormWithdrawallRequest.BeneAccountName.$dirty && FormWithdrawallRequest.BeneAccountName.$invalid, 'has-success':FormWithdrawallRequest.BeneAccountName.$valid}">
                                                    <label for="affiliateName">
                                                        Tên
                                                    </label>
                                                    <input type="text" class="form-control" id="affiliateName" name="BeneAccountName" ng-model="affiliate.BeneAccountName" placeholder="Tên" required="">
                                                    <span class="error text-small block" ng-if="FormWithdrawallRequest.BeneAccountName.$dirty && FormWithdrawallRequest.BeneAccountName.$invalid">Tên là bắt buộc.</span>
                                                </div>
                                                <div class="form-group" ng-class="{'has-error':FormWithdrawallRequest.BeneBankName.$dirty && FormWithdrawallRequest.BeneBankName.$invalid, 'has-success':FormWithdrawallRequest.BeneBankName.$valid}">
                                                    <label for="affiliateBankName">
                                                        Tên Ngân Hàng
                                                    </label>
                                                    <input type="text" class="form-control" id="affiliateBankName" name="BeneBankName" ng-model="affiliate.BeneBankName" placeholder="Tên Ngân Hàng" required="">
                                                    <span class="error text-small block" ng-if="FormWithdrawallRequest.BeneBankName.$dirty && FormWithdrawallRequest.BeneBankName.$invalid">Tên Ngân Hàng là bắt buộc.</span>
                                                </div>
                                                <div class="form-group" ng-class="{'has-error':FormWithdrawallRequest.BeneAccountNo.$dirty && FormWithdrawallRequest.BeneAccountNo.$invalid, 'has-success':FormWithdrawallRequest.BeneAccountNo.$valid}">
                                                    <label for="affiliateBankAccount">
                                                        Số Tài Khoản
                                                    </label>
                                                    <input type="text" class="form-control" id="affiliateBankAccount" name="BeneAccountNo" ng-model="affiliate.BeneAccountNo" placeholder="Số Tài Khoản" ng-pattern="/^[0-9]*$/" required="">
                                                    <span class="error text-small block" ng-if="FormWithdrawallRequest.BeneAccountNo.$dirty && FormWithdrawallRequest.BeneAccountNo.$invalid">Số Tài Khoản là bắt buộc và phải là số.</span>
                                                </div>
                                                <div class="form-group" ng-class="{'has-error':FormWithdrawallRequest.Amount.$dirty && FormWithdrawallRequest.Amount.$invalid, 'has-success':FormWithdrawallRequest.Amount.$valid}">
                                                    <label for="affiliateBankAccount">
                                                        Số tiền
                                                    </label>
                                                    <input type="text" class="form-control" id="affiliateBankAccount" name="Amount" ng-model="affiliate.Amount" placeholder="Số Tiền" ng-pattern="/^[0-9]*$/" required="">
                                                    <span class="error text-small block" ng-if="FormWithdrawallRequest.Amount.$dirty && FormWithdrawallRequest.Amount.$invalid">Số Tiền là bắt buộc và phải là số.</span>
                                                </div>
                                                <div class="form-group" ng-class="{'has-error':FormWithdrawallRequest.Remarks.$dirty && FormWithdrawallRequest.Remarks.$invalid, 'has-success':FormWithdrawallRequest.Remarks.$valid}">
                                                    <label for="affiliateNotes">
                                                        Notes
                                                    </label>
                                                    <input type="text" class="form-control" id="affiliateNotes" name="Remarks" ng-model="affiliate.Remarks" placeholder="Nội Dung" required="">
                                                    <span class="error text-small block" ng-if="FormWithdrawallRequest.Remarks.$dirty && FormWithdrawallRequest.Remarks.$invalid">Nội Dung là bắt buộc.</span>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="submit" class="btn btn-primary btn-block">
                                                    Hoàn Tất
                                                </button>
                                            </div>
                                        </form>
                                    </script>
                                    <script type="text/ng-template" id="myModalGetLinkAffiliate.html">
                                        <div class="modal-header">
                                            <span class="modal-title text-bold">Lấy Link Affiliate</span>
                                            <button type="button" id="myModalGetLinkAffiliateCloseButton" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="form-group">
                                                <label for="affiliateUrl">
                                                    Link
                                                </label>
                                                <input type="text" class="form-control" id="affiliateUrl" name="affiliateUrl" ng-model="affiliate.affiliateUrl">
                                            </div>
                                            <div class="form-group">
                                                <span class="input-group-button">
                                                    <button class="btn btn-primary btn-block" type="button" ngclipboard="" ngclipboard-success="onSuccess(e);" ngclipboard-error="onError(e);" data-clipboard-target="#affiliateUrl">
                                                        Copy Affiliate Link
                                                    </button>
                                                </span>
                                            </div>
                                        </div>
                                    </script>
                                    <div class="panel panel-white" ng-controller="AffiliateGetLinkCtrl">
                                        <div class="panel-body">
                                            <p>
                                                <button class="btn btn-primary btn-block" ng-click="getLink()">
                                                    Lấy Link Affiliate
                                                </button>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6" ng-controller="AffiliateNotificationCtrl">
                                <div class="panel-body no-padding">
                                    <div class="panel-scroll height-300" perfect-scrollbar="" wheel-propagation="false" suppress-scroll-x="true">
                                        <div class="panel panel-white" ng-repeat="data in affiliateNotifications">
                                            <div class="panel-body">
                                                <p class="text-left">{{data.Fullname}} số điện thoại {{data.Phone}} đã đăng ký với mã giới thiệu của bạn</p>
                                                <p>{{data.RegisterDate}}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" ng-controller="SummaryReportByAccountForAffiliateAccountTabCtrl" ng-if="!loadingAffiliateComissionsReportForAffiliateAccountTab">
                            <h3>Theo Dõi Thu Nhập</h3>
                            <div class="col-md-2">
                                <div class="table-responsive">
                                    <table class="table table-condensed shortMargin">
                                        <tr>
                                            Tháng
                                        </tr>
                                        <tr>
                                            <td>Hoa Hồng</td>
                                        </tr>
                                        <tr>
                                            <td>Hoa Hồng Cảm Ơn</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            <div class="col-md-10">
                                <div class="col-md-1" ng-repeat="affiliate in affiliateComissionsReportForAffiliateAccountTab">
                                    <table class="table table-hover">
                                        <tr>
                                            <td>{{affiliate.Month}}</td>
                                        </tr>
                                        <tr>
                                            <td>{{affiliate.Commission | number}}</td>
                                        </tr>
                                        <tr>
                                            <td>{{affiliate.CommissionThanks | number}}</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
					</uib-tab>
					<!-- end: TAB OVERVIEW -->
					<!-- start: TAB EDIT ACCOUNT -->
					<uib-tab heading="Link" active="editActive">
                        <div class="row">
                            <div class="col-sm-12">
                                <div ng-controller="AffiliateLinkvAccordionCtrl">
                                    <div class="panel panel-white no-radius">
                                        <div class="panel-body">
                                            <div class="partition-light-grey padding-15 margin-bottom-20">
                                                <h4 class="no-margin">Affiliate Links</h4>
                                            </div>
                                            <v-accordion class="vAccordion--default" control="firstAccordionControl">
                                                <!-- add expanded attribute to open first section -->
                                                <v-pane ng-repeat="pane in affiliateLinksPanes" expanded="$first">
                                                    <v-pane-header>
                                                        <h5>{{ pane.header }}</h5>
                                                    </v-pane-header>
                                                    <v-pane-content>
                                                        <table class="table margin-bottom-0">
                                                            <tbody>
                                                                <tr ng-repeat="link in pane.content">
                                                                    <td width="70%">{{link.header}}</td>
                                                                    <td class="center" width="10%">
                                                                        <div class="panel panel-transparent" style="margin-bottom: 0px;">
                                                                            <div class="panel-body">
                                                                                <a class="btn btn-wide btn-o btn-primary" data="{{link.affiliateLinkID}}|{{link.thumbnail}}" ng-click="changeImage($event)">
                                                                                        <i class="fa fa-picture-o"></i> Xem Trước
                                                                                </a>
                                                                                <script type="text/ng-template" id="myModalImagePreview.html">
                                                                                        <div class="modal-header">
                                                                                            <span class="modal-title text-bold">Xem Trước</span>
                                                                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()">
                                                                                                <span aria-hidden="true">&times;</span>
                                                                                            </button>
                                                                                        </div>
                                                                                        <div class="modal-body">
                                                                                            <div class="form-group">
                                                                                                <div class="row">
                                                                                                    <div class="col-md-12">
                                                                                                        <a href="#" class="thumbnail">
                                                                                                            <img src="{{imgPreview}}" alt="">
                                                                                                        </a>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="modal-footer">
                                                                                            <button class="btn btn-primary btn-o" ng-click="cancel()">Đóng</button>
                                                                                        </div>
                                                                                    </script>
                                                                                <!--<p>
                                                                                    <button popover="I appeared on mouse enter!" popover-title="The title." popover-trigger="mouseenter" class="btn btn-o btn-primary btn-wide">
                                                                                        Mouseenter
                                                                                    </button>
                                                                                    <button popover-animation="true" popover="I fade in and out!" popover-title="The title." class="btn btn-o btn-primary btn-wide">
                                                                                        fading
                                                                                    </button>
                                                                                    <div class="popover top in fade" ng-class="{ in: isOpen(), fade: animation() }" popover-popup="" title="The title." content="I fade in and out!" placement="top" animation="animation" is-open="isOpen" style="display: block;top: 21px;left: 129.5px;">
                                                                                        <div class="arrow"></div>
                                                                                        <div class="popover-inner">
                                                                                            <div class="popover-content ng-binding" ng-bind="content">

                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </p>-->
                                                                            </div>
                                                                        </div>

                                                                    </td>
                                                                    <td class="center" width="10%">
                                                                        <a class="btn btn-wide btn-o btn-primary" ng-click="shareAffiliateLink(link.affiliateLinkID)">
                                                                            <i class="fa fa-share"></i> Chia Sẻ
                                                                        </a>
                                                                    </td>
                                                                    <td class="center" width="10%">
                                                                        <a class="btn btn-wide btn-o btn-primary" ng-click="viewAffiliateLink(link.link)">
                                                                            <i class="fa fa-external-link"></i> Xem
                                                                        </a>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </v-pane-content>
                                                </v-pane>
                                            </v-accordion>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div ng-controller="AffiliateLinkBannerManagerCtrl">
                                    <div class="panel panel-white no-radius">
                                        <div class="panel-body">
                                            <div class="partition-light-grey padding-15 margin-bottom-20">
                                                <h4 class="no-margin">123ChaChing Banners</h4>
                                            </div>
                                            <ol>
                                                <li>
                                                    Tải xuống Banners - <a href="{{bannerDownloadLink}}" target="_blank">Bấm Vào Đây</a>
                                                </li>
                                                <li>
                                                    Gắn link affilate của bạn vào đây
                                                </li>
                                                <li>
                                                    Phân phối banner đó - Cha-ching
                                                </li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
					</uib-tab>
					<!-- end: TAB EDIT ACCOUNT -->
					<!-- start: TAB PROJECTS -->
                    <uib-tab heading="Hoa Hồng" id="affiliateComissions">
                        <div ng-controller="AffiliateComissionsCtrl">
                            <div class="panel panel-white">
                                <div class="panel-heading">
                                    <h3>Hoa Hồng</h3>
                                </div>
                                <div class="panel-body">
                                    <form class="ng-pristine ng-valid" name="FormAffiliateComissionsSearching" id="FormAffiliateComissionsSearching" novalidate="" ng-submit="form.submit(FormAffiliateComissionsSearching)">
                                        <div class="input-group well">
                                            <input type="text" class="form-control" id="KeyWord" name="KeyWord" ng-model="affiliateCommission.KeyWord" ng-pattern="/^[0-9]*$/" placeholder="Hoa Hồng Theo Năm">
                                            <span class="input-group-btn">
                                                <button class="btn btn-primary" type="submit">
                                                    <i class="fa fa-search"></i> Tìm Kiếm
                                                </button>
                                            </span>
                                        </div>
                                    </form>
                                    <div class="table-responsive">
                                        <circle-spinner ng-show="showSpinner"></circle-spinner>
                                        <table class="table table-bordered table-hover">
                                            <thead>
                                                <tr>
                                                    <th>Tháng</th>
                                                    <th>Hoa Hồng</th>
                                                    <th>Hoa Hồng Cảm Ơn</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="data in affiliateComissionsReport">
                                                    <td>{{data.Month}}/{{affiliateCommissionYear.currentYear}}</td>
                                                    <td>{{data.Commission | number}} Đ</td>
                                                    <td>{{data.CommissionThanks | number}} Đ</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="panel panel-white">
                                <div class="panel-heading">
                                    <h3>Danh Sách Khách Hàng</h3>
                                </div>
                                <div class="panel-body">
                                    <div class="table-responsive">
                                        <circle-spinner ng-show="showSpinner"></circle-spinner>
                                        <table class="table table-bordered table-hover">
                                            <thead>
                                                <tr>
                                                    <th>Ngày Đăng Ký</th>
                                                    <th>Tên</th>
                                                    <th>KH Gián Tiếp Giới Thiệu Bởi</th>
                                                    <th>Gói</th>
                                                    <th>Tình Trạng</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="data in affiliateListByAccount">
                                                    <td>{{data.CreatedDate}}</td>
                                                    <td>{{data.FullName}}</td>
                                                    <td>{{data.AffiliateName}}</td>
                                                    <td>{{data.AccountType === 1 ? "Cơ bản" : "Nâng cao"}}</td>
                                                    <td>{{data.StatusName}}</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </uib-tab>
					<!-- end: TAB PROJECTS -->
				</uib-tabset>
				<!-- end: USER TABSET -->
			</div>
		</div>
	</div>
</div>
<!-- end: USER PROFILE -->
</body></html>